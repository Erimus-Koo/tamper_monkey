# ç¨åæ’­åŠŸèƒ½æ‹†åˆ†è¯´æ˜

## æ‹†åˆ†å®Œæˆ âœ…

å·²å°†ç¨åæ’­ç›¸å…³åŠŸèƒ½ä» `bilibili_mongolian_player.js` æ‹†åˆ†åˆ°ç‹¬ç«‹æ–‡ä»¶ `bilibili_watchlater_manager.js`

---

## ğŸ“¦ æ–°æ–‡ä»¶ï¼šbilibili_watchlater_manager.js

### åŒ…å«åŠŸèƒ½ï¼š

1. **è‡ªåŠ¨åˆ é™¤å·²æ’­æ”¾è§†é¢‘** (`deleteFinishedVideo`)
   - æ”¯æŒå•På’Œå¤šPè§†é¢‘
   - åˆ é™¤åè‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€ä¸ª
   - æœ€åä¸€ä¸ªè§†é¢‘åˆ é™¤åè·³è½¬åˆ°åˆ—è¡¨é¡µ

2. **åˆ—è¡¨é¡µè‡ªåŠ¨åŒ–** (`autoRefreshWatchLaterList`)
   - åˆ—è¡¨ä¸ºç©ºæ—¶è‡ªåŠ¨åˆ·æ–°
   - æœ‰è§†é¢‘æ—¶è‡ªåŠ¨è·³è½¬åˆ°æ’­æ”¾é¡µ

3. **æŒ‰é’®å¯èšç„¦** (`makeElementFocusable`)
   - é¦–é¡µçš„ç¨åæ’­æŒ‰é’® (`.bili-watch-later`)
   - åŠ¨æ€é¡µçš„ç¨åæ’­æŒ‰é’® (`.bili-dyn-card-video__mark`)
   - æ’­æ”¾é¡µå³ä¾§åˆ—è¡¨çš„è§†é¢‘é¡¹ (`.actionlist-item-inner`)
   - ä¸ªäººé¡µçš„ç¨åæ’­æŒ‰é’® (`.i-watchlater`)

4. **å¿«æ·é”®**
   - `S`: æ‰‹åŠ¨åˆ é™¤å½“å‰è§†é¢‘

5. **è‡ªåŠ¨å¼€å¯è¿æ’­**
   - è¿›å…¥ç¨åæ’­é¡µé¢è‡ªåŠ¨ç›‘å¬è§†é¢‘ç»“æŸäº‹ä»¶

### é€‚é…é¡µé¢ï¼š

```javascript
// @match *://www.bilibili.com/watchlater/*/list  // åˆ—è¡¨é¡µ
// @match *://www.bilibili.com/list/watchlater    // æ’­æ”¾é¡µ
// @match *://www.bilibili.com/?*                 // é¦–é¡µï¼ˆç¨åæ’­æŒ‰é’®ï¼‰
// @match *://t.bilibili.com/*                    // åŠ¨æ€é¡µï¼ˆç¨åæ’­æŒ‰é’®ï¼‰
// @match *://space.bilibili.com/*                // ä¸ªäººé¡µï¼ˆç¨åæ’­æŒ‰é’®ï¼‰
```

---

## ğŸ® ä¿ç•™æ–‡ä»¶ï¼šbilibili_mongolian_player.js

### ç§»é™¤çš„å†…å®¹ï¼š

1. âŒ `deleteFinishedVideo()` å‡½æ•°
2. âŒ `autoRefreshWatchLaterList()` å‡½æ•°
3. âŒ `makeElementFocusable()` ä¸­çš„ç¨åæ’­ç›¸å…³æŒ‰é’®
4. âŒ å¿«æ·é”® `S` (åˆ é™¤è§†é¢‘)
5. âŒ ç¨åæ’­é¡µé¢çš„è‡ªåŠ¨å¼€å¯è¿æ’­é€»è¾‘
6. âŒ `@match` è§„åˆ™ä¸­çš„ç¨åæ’­ç›¸å…³é¡µé¢
7. âŒ `getPageProperty()` ä¸­çš„ç¨åæ’­é¡µé¢åˆ¤æ–­

### ä¿ç•™çš„å†…å®¹ï¼š

âœ… æ’­æ”¾å™¨å¿«æ·é”®ï¼ˆå…¨å±ã€å˜é€Ÿã€è·³è½¬ç­‰ï¼‰
âœ… å¤šPè¿æ’­åŠŸèƒ½
âœ… è‡ªåŠ¨ç½‘é¡µå…¨å±
âœ… æ’­æ”¾é€Ÿåº¦è®°å¿†
âœ… å…³æ³¨æŒ‰é’®å¯èšç„¦

---

## ğŸ”„ ä½¿ç”¨æ–¹å¼

### æ–¹æ¡ˆ1ï¼šä¸¤ä¸ªè„šæœ¬éƒ½å®‰è£…ï¼ˆæ¨èï¼‰

- å®‰è£… `bilibili_mongolian_player.js` - æ’­æ”¾å™¨å¢å¼º
- å®‰è£… `bilibili_watchlater_manager.js` - ç¨åæ’­ç®¡ç†

ä¸¤ä¸ªè„šæœ¬äº’ä¸å¹²æ‰°ï¼Œå„å¸å…¶èŒã€‚

### æ–¹æ¡ˆ2ï¼šåªå®‰è£…å…¶ä¸­ä¸€ä¸ª

- åªéœ€è¦æ’­æ”¾å™¨åŠŸèƒ½ â†’ åªè£… `mongolian_player.js`
- åªéœ€è¦ç¨åæ’­ç®¡ç† â†’ åªè£… `watchlater_manager.js`

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä¸¤ä¸ªè„šæœ¬å¯ä»¥åŒæ—¶è¿è¡Œ**ï¼Œä¸ä¼šå†²çª
2. **ç¨åæ’­ç®¡ç†å™¨æ˜¯ç‹¬ç«‹çš„**ï¼Œä¸ä¾èµ–æ’­æ”¾å™¨è„šæœ¬
3. **æ’­æ”¾å™¨è„šæœ¬ä¸å†å¤„ç†ç¨åæ’­**ï¼Œä¸“æ³¨äºæ’­æ”¾å™¨å¢å¼º

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

å¯ä»¥åœ¨ `bilibili_watchlater_manager.js` åŸºç¡€ä¸Šæ·»åŠ ï¼š

- è‡ªåŠ¨æ”¶è—æŒ‡å®šä½œè€…çš„è§†é¢‘
- Gist äº‘åŒæ­¥ä½œè€…åå•
- æ›´å¤šç¨åæ’­ç›¸å…³åŠŸèƒ½

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

- `mongolian_player.js`: çº¦ 600 è¡Œï¼ˆç§»é™¤äº†çº¦ 150 è¡Œç¨åæ’­ä»£ç ï¼‰
- `watchlater_manager.js`: çº¦ 350 è¡Œï¼ˆæ–°æ–‡ä»¶ï¼‰

æ‹†åˆ†åä»£ç æ›´æ¸…æ™°ï¼Œç»´æŠ¤æ›´æ–¹ä¾¿ï¼
